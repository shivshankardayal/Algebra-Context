\environment ../algebra_env.lmtx

\startcomponent cover_page.lmtx

  \setvariables
    [document]
    [titleA=A Variable in Algebra,
    titleB=A problem-oriented approach,
    author=Dayashru]

  \startpagemakeup

    \startMPcode

      StartPage ;

        fill Page enlarged 10mm withcolor \MPcolor{purple} ;
        draw anchored.lrt(image(draw textext("\getvariable{document}{titleA}")  xsized(.70PaperWidth)      withcolor white),(lrcorner Page) shifted (-PaperWidth/18, PaperWidth/3.5)) ;
        draw (0, PaperWidth/3.6)--(PaperHeight, PaperWidth/3.6) withcolor white withpen pencircle scaled 2pt;
        draw anchored.lrt(image(draw textext("\getvariable{document}{titleB}")  xsized(.60PaperWidth)      withcolor white),(lrcorner Page) shifted (-PaperWidth/18, PaperWidth/4.5)) ;
%       draw anchored.lrt(image(draw textext("\getvariable{document}{titleC}")  xsized(.750PaperWidth)      withcolor white),(lrcorner Page) shifted (-PaperWidth/20, PaperWidth/5)) ;
        draw anchored.urt(image(draw textext("\getvariable{document}{author}")   xsized(.15PaperWidth) rotated 270 withcolor white),(urcorner Page) shifted (-PaperWidth/20,-PaperWidth/20)) ;

        setbounds currentpicture to Page ;
        fill fullcircle scaled 12cm shifted (.5PaperWidth, .5PaperHeight) withcolor white;
        pair z, x, xn, y, yn;
        z := (.5PaperWidth, .5PaperHeight);
        x := z + (6cm, 0);
        xn := z - (6cm, 0);
        y := z + (0, 6cm);
        yn := z - (0, 6cm);
        drawdblarrow x--xn;
        drawdblarrow y--yn;
        draw function(1,"x","-x",-4, 0.01,.01) xyscaled(1cm, 1cm) shifted z withcolor \MPcolor{purple};
        draw function(1,"x","x",0,4,.1) xyscaled(1cm, 1cm) shifted z withcolor \MPcolor{purple};
        draw function(2,"x","exp(x)",-5,1.6,.1) xyscaled(1cm, 1cm) shifted z withcolor \MPcolor{purple};
        draw function(2,"x","-1/exp(x)",-1.8,6,.1) xyscaled(1cm, 1cm) shifted z withcolor \MPcolor{purple};
        draw function(2,"x","-x*x + x + 4",-2.6,3.6,.1) xyscaled(1cm, 1cm) shifted z withcolor \MPcolor{purple};
        label("$y = e^x$", z + (.9cm, 5cm));
        label("$y = -x^2 + x + 4$", z + (3cm, -3cm));
        label("$y = -\frac{1}{e^x}$", z - (.9cm, 5cm));
        label.top("$y = |x|$", z + (3.5cm, 4cm));
        label.bot("$x$", x - (0.1cm, 0));
        label.lft("$y$", y - (0, 0.1cm));
        label.lrt("$O$", z - (0, 0.1cm));
        draw ((1, -sqrt(35)) xyscaled(1cm, 1cm) shifted z -- (1, sqrt(35)) xyscaled(1cm, 1cm) shifted z) dashed evenly withpen pencircle scaled 0.1pt withcolor .7white;
        draw ((2, -sqrt(32)) xyscaled(1cm, 1cm) shifted z -- (2, sqrt(32)) xyscaled(1cm, 1cm) shifted z) dashed evenly withpen pencircle scaled 0.1pt withcolor .7white;
        draw ((3, -sqrt(27)) xyscaled(1cm, 1cm) shifted z -- (3, sqrt(27)) xyscaled(1cm, 1cm) shifted z) dashed evenly withpen pencircle scaled 0.1pt withcolor .7white;
        draw ((4, -sqrt(20)) xyscaled(1cm, 1cm) shifted z -- (4, sqrt(20)) xyscaled(1cm, 1cm) shifted z) dashed evenly withpen pencircle scaled 0.1pt withcolor .7white;
        draw ((5, -sqrt(11)) xyscaled(1cm, 1cm) shifted z -- (5, sqrt(11)) xyscaled(1cm, 1cm) shifted z) dashed evenly withpen pencircle scaled 0.1pt withcolor .7white;
        draw ((-1, -sqrt(35)) xyscaled(1cm, 1cm) shifted z -- (-1, sqrt(35)) xyscaled(1cm, 1cm) shifted z) dashed evenly withpen pencircle scaled 0.1pt withcolor .7white;
        draw ((-2, -sqrt(32)) xyscaled(1cm, 1cm) shifted z -- (-2, sqrt(32)) xyscaled(1cm, 1cm) shifted z) dashed evenly withpen pencircle scaled 0.1pt withcolor .7white;
        draw ((-3, -sqrt(27)) xyscaled(1cm, 1cm) shifted z -- (-3, sqrt(27)) xyscaled(1cm, 1cm) shifted z) dashed evenly withpen pencircle scaled 0.1pt withcolor .7white;
        draw ((-4, -sqrt(20)) xyscaled(1cm, 1cm) shifted z -- (-4, sqrt(20)) xyscaled(1cm, 1cm) shifted z) dashed evenly withpen pencircle scaled 0.1pt withcolor .7white;
        draw ((-5, -sqrt(11)) xyscaled(1cm, 1cm) shifted z -- (-5, sqrt(11)) xyscaled(1cm, 1cm) shifted z) dashed evenly withpen pencircle scaled 0.1pt withcolor .7white;
        draw ((-sqrt(35), 1) xyscaled(1cm, 1cm) shifted z -- (sqrt(35), 1) xyscaled(1cm, 1cm) shifted z) dashed evenly withpen pencircle scaled 0.1pt withcolor .7white;
        draw ((-sqrt(32), 2) xyscaled(1cm, 1cm) shifted z -- (sqrt(32), 2) xyscaled(1cm, 1cm) shifted z) dashed evenly withpen pencircle scaled 0.1pt withcolor .7white;
        draw ((-sqrt(27), 3) xyscaled(1cm, 1cm) shifted z -- (sqrt(27), 3) xyscaled(1cm, 1cm) shifted z) dashed evenly withpen pencircle scaled 0.1pt withcolor .7white;
        draw ((-sqrt(20), 4) xyscaled(1cm, 1cm) shifted z -- (sqrt(20), 4) xyscaled(1cm, 1cm) shifted z) dashed evenly withpen pencircle scaled 0.1pt withcolor .7white;
        draw ((-sqrt(11), 5) xyscaled(1cm, 1cm) shifted z -- (sqrt(11), 5) xyscaled(1cm, 1cm) shifted z) dashed evenly withpen pencircle scaled 0.1pt withcolor .7white;
        draw ((-sqrt(35), -1) xyscaled(1cm, 1cm) shifted z -- (sqrt(35), -1) xyscaled(1cm, 1cm) shifted z) dashed evenly withpen pencircle scaled 0.1pt withcolor .7white;
        draw ((-sqrt(32), -2) xyscaled(1cm, 1cm) shifted z -- (sqrt(32), -2) xyscaled(1cm, 1cm) shifted z) dashed evenly withpen pencircle scaled 0.1pt withcolor .7white;
        draw ((-sqrt(27), -3) xyscaled(1cm, 1cm) shifted z -- (sqrt(27), -3) xyscaled(1cm, 1cm) shifted z) dashed evenly withpen pencircle scaled 0.1pt withcolor .7white;
        draw ((-sqrt(20), -4) xyscaled(1cm, 1cm) shifted z -- (sqrt(20), -4) xyscaled(1cm, 1cm) shifted z) dashed evenly withpen pencircle scaled 0.1pt withcolor .7white;
        draw ((-sqrt(11), -5) xyscaled(1cm, 1cm) shifted z -- (sqrt(11), -5) xyscaled(1cm, 1cm) shifted z) dashed evenly withpen pencircle scaled 0.1pt withcolor .7white;
      StopPage ;

    \stopMPcode

  \stoppagemakeup
% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% % Credit titles
% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

  {
    \page[yes]
    \page[blank]\parindent0pt
    \ \vfill

    {\bf A Variable in Algebra}\\
    {\color[red]{Early Draft}} [\RevisionDate]\\
    \blank

    Copyright, \copyright~ Dayashru, 2023-24. All rights reserved.\\\\
    Permission is granted to copy, distribute and/or modify this document under the
    terms of the GNU Free Documentation License, Version 1.3 or any later version
    published by the Free Software Foundation; with no Invariant Sections, no
    Front-Cover Texts, and no Back-Cover Texts. A copy of the license is included
    in the section entitled \quotation{GNU Free Documentation License}.

  }
  {
    \page[yes]
    \page[blank]\parindent0pt
    \blank[4*big]
    \vskip 3cm
    \startalignment [middle]
    {\bigskip\it Dedicated to my family\\and Free Software Community}
    \stopalignment
  }

%   %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%   % Table of contents
%   %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

  \starttitle
    [title={Table of Contents}]

%     % Header
    \setupheadertexts
      [\tfx Table of Contents]
      [\tfx\pagenumber]

    % Format of entries in the ToC
    \setuplist
      [part]
      [
        before={\blank[2*big]},
        after={\blank[big]},
        style=\bfa,
        aligntitle=yes,
      ]

    \setuplist
      [chapter]
      [
        before=\blank,
        style=\bf,
        margin=.5cm,
        aligntitle=yes
      ]

    \setuplist
      [section]
      [
        aligntitle=yes,
        style=\tfx,
        margin=1.5cm
      ]

    % Let us define our list (called a Toc)
    \definecombinedlist
      [Toc]
      [part, chapter, section]
      [level=subsection, alternative=c]

    % and insert it in the context of smaller interline space
    \start
      \setupwhitespace[none]
      \switchtobodyfont[9pt]
      \setupinterlinespace[small]
      \placeToc
    \stop

  \stoptitle

\stopcomponent
