% -*- mode: context; -*-
\environment algebra_env.tex

\startproduct algebra.tex
  \setupuserpagenumber[numberconversion=romannumerals]
  % Date of the last time modifications were introduced:
  \def\RevisionDate{\date}
  \startromanpages
  \placebookmarks[Toc, part, chapter, section, subsection, subsubsection]
  \setupbodyfont[9pt,mf,ss] % The document's main (body) font
  \component cover_page.tex
  \component preface.tex
  \stopromanpages
  \startbodymatter
  \startpart
     [title=Theory and Problems]

    \setupuserpagenumber[numberconversion=n]
  %% defining matrix with brackets
  \definemathmatrix[bmatrix]
  	                 [matrix:brackets]
  	                 [simplecommand=bmatrix]

  % defining determinant with bars
  \definemathmatrix[determinant]
                   [matrix:bars]
                   [simplecommand=thedeterminant]
  \definemathmatrix[pmatrix]
                  	[matrix:parentheses]
                   	[simplecommand=pmatrix]
  \define[1]\oldfact
     {\mcframed[frame=off,strut=no,leftframe=on,bottomframe=on]{#1}}

  \setupenumerations
    [ before={\blank[big]},
      after={\blank[big]},
      location=serried,
      width=broad,
      distance=0.5em,
      headstyle=bold,
      titlestyle=bold,
      way=bytext,
      conversion=numbers]
  \defineenumeration
    [theorem]
    [ text=Theorem,
      title=yes,
      style=italic,
      list=all,
      listtext={Theorem }]
  \defineenumeration
    [lemma]
    [ text=Lemma,
      title=yes,
      style=italic,
      list=all,
      listtext={Lemma }]
  \defineenumeration
    [proposition]
    [ text=Proposition,
      title=yes,
      style=italic,
      list=all,
      listtext={Proposition }]
  \defineenumeration
    [corollary]
    [ text=Corollary,
      title=yes,
      style=italic,
      list=all,
      listtext={Corollary }]
  \defineenumeration
    [proof]
    [ text=Proof,
      number=no,
      headstyle=italic,
      title=no, %this is the default
      closesymbol={\mathematics{\square}},
      style=normal]
  \defineenumeration
    [remark]
    [ text=Remark,
      number=no,
      headstyle=italic,
      title=no, %this is the default
      style=normal]
  %\let\frac\dfrac

  %% We begin by setting the headers and footers for this part

     \setupheadertexts
       [{\tfx\getmarking[chapter]}]

     \setupheadertexts
       []
       [{\tfx\hbox to 2em{\hss\userpagenumber}}]

  %     % We set chapter counter to zero.
       \setupheadnumber[chapter][0]

       % Chapters making up this part
       \component logarithm.tex
       \component progressions.tex
       \component complex-numbers.tex
       \component theory-of-equations.tex
       \component permutations-and-combinations.tex
       \component mathematical-induction.tex
       \component binomial-multinomial-expansions.tex
       \component determinants.tex
       \component matrices.tex
       \component miscellaneous.tex

  \stoppart

  \startpart
    [title=Answers]

    % Readjust the headers

    \setupheadertexts
      [{\tfx Answers of \getmarking[chapter]}]
    \setupheadertexts
      []
      [{\tfx\hbox to 2em{\hss\pagenumber}}]

      \setuplabeltext[en][chapter=Answers of Chapter ]

      \component logarithm-solutions.tex
      \component progressions-solutions.tex
      \component complex-numbers-solutions.tex
      \component theory-of-equations-solutions.tex
      \component permutations-and-combinations-solutions.tex
      \component mathematical-induction-solutions.tex
      \component binomial-multinomial-expansions-solutions.tex
      \component determinants-solutions.tex
      \component matrices-solutions.tex
      \component miscellaneous-solutions.tex

  \stoppart
  \startpart
    [title=License]
    \setupheadertexts
      [{\tfx\getmarking[chapter]}]
    \setupheadertexts
      [{}]
      [{\tfx\hbox to 2em{\hss\pagenumber}}]
    \setuplabeltext[en][Chapter=Appendix]

      \component fdl-1.3.tex
  \stoppart
  \stopbodymatter

\stopproduct
